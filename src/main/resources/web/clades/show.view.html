{{ title = "Clade" }}
{{include "../layouts/header.view.html"}}

<div id="page-content">
  <div class="container">

    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{routeUrl("phylogenies_index",{})}}">Phylogenies</a></li>
        <li class="breadcrumb-item"><a href="{{routeUrl("phylogenies_show",{phylotree: tree.getIdWithVersion()})}}">{{tree.name}} {{tree.version}}</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{clade}}</li>
      </ol>
    </nav>

    <h1>{{clade}}</h1>

    <h4>Phylogenetic Tree</h4>

    <div id="graph" style="width: 100%; height: 252px; border: 1px; border-style: solid;">

</div>
<br>
  <h4>Muttations</h4>
    <p>This haplogroup is defined by the following mutations:</p>
    <table>
      <tr>
        <td style="width: 200px;">
          <p>
            <b>Nucleotide Changes</b><br>
            {{for polymorphism in polymorphisms}}
              <a href="{{routeUrl("mutations_show", {phylotree:tree.getIdWithVersion(), mutation:polymorphism.nuc})}}"><span class="badge badge-info">{{polymorphism.nuc}}</span></a><br>
            {{end}}
          </p>
        </td>
        <td>
          <p>
            <b>Amino Acid Changes</b><br>
            {{for polymorphism in polymorphisms}}
              {{if polymorphism.aac != null}}
                <span class="badge badge-info">{{polymorphism.aac}}</span> <br>
              {{else}}
              <br>
              {{end}}
            {{end}}
          </p>
        </td>
      </tr>
    </table>

  </div>
</div>

{{includeScript("//d3js.org/d3.v5.min.js")}}
{{includeScript("https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js")}}
{{includeScript("https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js")}}

<script>
  {{include "show.view.js"}}
</script>

{{include "../layouts/footer.view.html"}}
